<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../dist/doz.js?22"></script>
</head>
<body>
<div id="app">
    <my-component title="Increment A" counter="0"></my-component>
    <my-component title="Increment B" counter="0"></my-component>
</div>
<script>

    function updateCounter() {
        //console.log(this.parentNode.parentNode.__DOZ_INSTANCE__);
        const ctx = this.parentNode.parentNode.__DOZ_INSTANCE__;
        const props = ctx.getProps();
        //console.log(props.counter);
        props.counter = parseInt(props.counter) + 1;
        ctx.setProps(props);
    }

    Doz.Component('my-component', {
        template: `<div><div><button onclick="updateCounter.call(this);">{{title}}</button> {{counter}}</div></div>`,
        methods: {
            myCustom() {
                console.log('cliccato', this)
            }
        }
    });

    new Doz({
        el: '#app'
    })

</script>
</body>
</html>